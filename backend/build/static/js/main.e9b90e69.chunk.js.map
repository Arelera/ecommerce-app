{"version":3,"sources":["svg/star.svg","svg/star-half.svg","svg/star-outline.svg","components/stars/starsToDisplay.js","components/ProductGrid/ProductCard/CardInfo.js","components/ProductGrid/ProductCard/ProductCard.js","firebase/storage.js","services/productService.js","reducers/productsReducer.js","components/Loader/Loader.js","components/ProductGrid/ProductGrid.js","components/categories.js","components/cleanForUrl.js","components/Header/SubMenu.js","components/CategoryPage/CategoryPage.js","components/Header/Navbar/Logo.js","svg/bars-solid.svg","components/Header/Navbar/Menu.js","svg/search-solid.svg","components/Header/Navbar/SearchBar.js","svg/shopping-cart-solid.svg","reducers/cartReducer.js","components/Header/Navbar/Cart.js","hooks/useComponentVisible.js","components/Header/Navbar/NavCart.js","svg/ellipsis-h-solid.svg","components/DotMenu/DotMenu.js","services/userService.js","reducers/userReducer.js","components/Header/Navbar/Navbar.js","components/Header/Header.js","components/SigninPage/SigninForm.js","components/SigninPage/SignupForm.js","components/SigninPage/SigninPage.js","components/Modal/Modal.js","components/ProductPage/Ratings/Rating.js","services/ratingsService.js","reducers/ratingsReducer.js","components/ProductPage/Ratings/RatingInput.js","components/ProductPage/Ratings/RatingsSum.js","components/ProductPage/Ratings/Ratings.js","components/ProductPage/ProductEditForm.js","svg/chevron-right-solid.svg","svg/chevron-left-solid.svg","components/Carousel/Carousel.js","components/ProductPage/ProductPage.js","components/AddProduct/AddProduct.js","components/Checkout/Checkout.js","App.js","reducers/loadingReducer.js","store.js","index.js","components/Header/Navbar/Cart.module.scss","components/ProductPage/ProductPage.module.scss","components/Checkout/Checkout.module.scss","components/Header/Navbar/Menu.module.scss","components/DotMenu/DotMenu.module.scss","components/Carousel/Carousel.module.scss","components/SigninPage/SigninForm.module.scss","components/ProductPage/Ratings/RatingInput.module.scss","components/AddProduct/AddProduct.module.scss","components/ProductPage/Ratings/Rating.module.scss","components/Modal/Modal.module.scss","components/Header/Navbar/SearchBar.module.scss","components/ProductPage/Ratings/RatingsSum.module.scss","components/Loader/Loader.module.scss","components/Header/Navbar/Navbar.module.scss","components/Header/Navbar/NavCart.module.scss","components/SigninPage/SigninPage.module.scss","components/ProductPage/Ratings/Ratings.module.scss","components/ProductPage/ProductEditForm.module.scss","components/Header/SubMenu.module.scss","components/Header/Navbar/Logo.module.scss"],"names":["starsToDisplay","rating","decimal","fullStars","emptyStars","halfStars","stars","i","push","className","src","fullStar","alt","length","halfStar","emptyStar","CardInfo","product","price","name","Math","round","ProductCard","dispatch","useDispatch","onClick","type","to","id","images","loading","config","apiKey","process","projectId","storageBucket","appId","measurementId","REACT_APP_FB_MEASUREMENTID","firebase","initializeApp","storageRef","storage","ref","imagesRef","child","baseUrl","BASE_URL","getAll","a","axios","get","response","data","getByQuery","query","params","getById","getByCategory","category","getBySubcategory","subcategory","getByUser","userId","deleteOne","token","delete","headers","Authorization","addProduct","console","log","productToSend","k","imagesArr","filename","nanoid","fileRef","getExt","put","getDownloadURL","fileUrl","fullPath","post","split","pop","productService","editOne","newProduct","reducer","state","action","prods","Loader","S","container","spinner","ProductGrid","location","useLocation","useParams","URLSearchParams","search","useSelector","store","products","sort","b","Date","createdAt","useEffect","creator","cat","subcat","pathname","then","res","map","prod","toString","categories","subcategories","cleanForUrl","c","toLowerCase","replaceAll","SubMenu","urlCategory","find","submenu","CategoryPage","Logo","mainLogo","Menu","history","useHistory","useState","dropdown","setDropdown","visibleCat","setVisibleCat","text","goTo","cleanCat","cleanSubcat","div","menu","svg","hamburger","onMouseLeave","onMouseEnter","button","j","SearchBar","setQuery","form","onSubmit","e","preventDefault","target","value","input","onChange","placeholder","searchsvg","setAmount","amount","initialState","localStorage","getItem","JSON","parse","cartReducer","newCartAdd","some","Number","setItem","stringify","newCartRem","filter","newCartSet","removeItem","Cart","setCartVisible","productsInCart","cart","top","reduce","acc","cartItem","prodImg","prodInfo","hideBtn","useComponentVisible","initial","isComponentsVisible","setIsComponentVisible","useRef","handleClickOutside","current","contains","document","addEventListener","removeEventListener","NavCart","cartRef","cartVisible","cartsvg","DotMenu","size","choices","funcs","linked","menuRef","open","setOpen","btn","ellipsisSvg","svgSmall","svgBig","svgMed","choice","userService","signupUser","user","signinUser","error","Navbar","navbar","menuBox","username","Header","SigninForm","handleFormSubmit","setSignin","setTimeout","clearTimeout","required","signupLink","SignupForm","setUsername","email","setEmail","password","setPassword","passwordRepeat","setPasswordRepeat","minLength","maxLength","SigninPage","signin","userToSend","signedUser","signinPage","formBox","Modal","modalRef","message","setClose","createPortal","modalContainer","modal","acceptBtn","closeBtn","getElementById","Rating","date","handleDelete","toggleEdit","isMyRating","modalOpen","setModalOpen","slice","comment","ratingsService","rateProduct","deleteRating","editRating","ratings","r","newRating","RatingInput","isEditing","setCanSeeInput","setRating","setComment","fullRating","userJson","min","max","textarea","RatingsSum","ratio","ratingsSum","Ratings","productCreator","sorted","setIsEditing","canSeeInput","ratingsBox","ratingsList","ProductEditForm","cancelEditing","editedProduct","setEditedProduct","editForm","description","flex","stock","Carousel","index","setIndex","image","carousel","leftBtn","leftSvg","img","rightBtn","rightSvg","ProductPage","myProduct","includes","setProduct","isModal","setIsModal","setRatings","catch","err","productPage","forEach","path","productBox","info","seller","desc","addCart","addToCart","AddProduct","setName","setDescription","setPrice","setStock","setImages","setCategory","setSubcategory","isLoading","setIsLoading","productToSubmit","files","multiple","radioGroups","radioGroup","Checkout","checkedOut","setCheckedOut","totalPrice","lastPrice","setLastPrice","checkout","header","removeBtn","checkoutBtn","App","initUser","exact","component","createStore","combineReducers","userReducer","productsReducer","ratingsReducer","loadingReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","module","exports"],"mappings":"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","file":"static/js/main.e9b90e69.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/star.7b13c3c5.svg\";","export default __webpack_public_path__ + \"static/media/star-half.ca9cb1cf.svg\";","export default __webpack_public_path__ + \"static/media/star-outline.1818ace9.svg\";","import fullStar from '../../svg/star.svg';\r\nimport halfStar from '../../svg/star-half.svg';\r\nimport emptyStar from '../../svg/star-outline.svg';\r\n\r\nconst starsToDisplay = (rating) => {\r\n  const decimal = rating % 1;\r\n  const fullStars = rating - decimal;\r\n  const emptyStars = decimal > 0 ? 5 - fullStars - 1 : 5 - fullStars;\r\n  const halfStars = 5 - fullStars - emptyStars;\r\n\r\n  const stars = [];\r\n  for (let i = 0; i < fullStars; i++) {\r\n    stars.push(\r\n      <img className=\"star\" src={fullStar} alt=\"\" key={stars.length} />\r\n    );\r\n  }\r\n  for (let i = 0; i < halfStars; i++) {\r\n    stars.push(\r\n      <img className=\"star\" src={halfStar} alt=\"\" key={stars.length} />\r\n    );\r\n  }\r\n  for (let i = 0; i < emptyStars; i++) {\r\n    stars.push(\r\n      <img className=\"star\" src={emptyStar} alt=\"\" key={stars.length} />\r\n    );\r\n  }\r\n  return stars;\r\n};\r\n\r\nexport default starsToDisplay;\r\n","import starsToDisplay from '../../stars/starsToDisplay';\r\nimport './CardInfo.scss';\r\n\r\nexport default function CardInfo({ product }) {\r\n  return (\r\n    <div className=\"cardInfo\">\r\n      <p className=\"price\">\r\n        <span>$</span>\r\n        {product.price}\r\n      </p>\r\n      <h3>{product.name}</h3>\r\n      <div>\r\n        {starsToDisplay(product.rating)}{' '}\r\n        {Math.round(product.rating * 100) / 100}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport CardInfo from './CardInfo';\r\nimport './ProductCard.scss';\r\n\r\nexport default function ProductCard({ product }) {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div className=\"productCard\">\r\n      <Link\r\n        onClick={() => dispatch({ type: 'START_LOADING' })}\r\n        to={`/product/${product.id}`}\r\n      >\r\n        <img\r\n          src={product.images[0]}\r\n          className=\"productImg\"\r\n          alt=\"\"\r\n          loading=\"lazy\"\r\n        ></img>\r\n        <CardInfo product={product} />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_FB_APIKEY,\r\n  projectId: process.env.REACT_APP_FB_PROJECTID,\r\n  storageBucket: process.env.REACT_APP_FB_STORAGEBUCKET,\r\n  appId: process.env.REACT_APP_FB_APPID,\r\n  measurementId: process.env.REACT_APP_FB_MEASUREMENTID,\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nconst storage = firebase.storage();\r\n\r\nconst storageRef = storage.ref();\r\nconst imagesRef = storageRef.child('images');\r\n\r\nexport { storageRef, imagesRef };\r\n","import { nanoid } from 'nanoid';\r\nimport axios from 'axios';\r\nimport { imagesRef } from '../firebase/storage';\r\n\r\nconst baseUrl = (process.env.BASE_URL || 'http://localhost:3001') + '/api';\r\n\r\n// for main page\r\nconst getAll = async () => {\r\n  const response = await axios.get(`${baseUrl}/products`);\r\n  return response.data;\r\n};\r\n\r\nconst getByQuery = async (query) => {\r\n  const response = await axios.get(`${baseUrl}/products/search`, {\r\n    params: { query },\r\n  });\r\n  return response.data;\r\n};\r\n\r\n// for product page, so we need it's ratings as well\r\nconst getById = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/products/${id}`);\r\n  return response.data;\r\n};\r\n\r\nconst getByCategory = async (category) => {\r\n  const response = await axios.get(`${baseUrl}/products/cat/${category}`);\r\n  return response.data;\r\n};\r\n\r\nconst getBySubcategory = async (category, subcategory) => {\r\n  const response = await axios.get(\r\n    `${baseUrl}/products/subcat/${category}/${subcategory}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst getByUser = async (userId) => {\r\n  const response = await axios.get(`${baseUrl}/products/user/${userId}`);\r\n  return response.data;\r\n};\r\n\r\nconst deleteOne = async (id, token) => {\r\n  const response = await axios.delete(`${baseUrl}/products/${id}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst addProduct = async (product) => {\r\n  const images = product.images;\r\n  console.log({ product });\r\n  const productToSend = {};\r\n\r\n  for (let k in product) {\r\n    // for the images, loop through them and add em to the storage 1 by 1\r\n    if (`${k}` === 'images') {\r\n      const imagesArr = [];\r\n      // put the files up to firebase storage then get their urls\r\n      for (let i = 0; i < images.length; i++) {\r\n        // unique name with nanoid\r\n        const filename = nanoid();\r\n        const fileRef = imagesRef.child(\r\n          `${filename}.${getExt(images[i].name)}`\r\n        );\r\n        await fileRef.put(images[i]);\r\n        const fileUrl = await fileRef.getDownloadURL();\r\n\r\n        // save path too for deleting file when needed\r\n        imagesArr.push([fileUrl, `${fileRef.fullPath}`]);\r\n      }\r\n\r\n      productToSend['images'] = imagesArr;\r\n    } else {\r\n      productToSend[k] = product[k];\r\n    }\r\n  }\r\n  console.log({ productToSend });\r\n  const response = await axios.post(`${baseUrl}/products`, productToSend);\r\n\r\n  return response.data;\r\n};\r\n\r\nconst editOne = async (id, newProduct, token) => {\r\n  // can edit name, description, stock, price\r\n  const response = await axios.put(`${baseUrl}/products/${id}`, newProduct, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst getExt = (filename) => filename.split('.').pop();\r\n\r\nconst productService = {\r\n  getAll,\r\n  getByQuery,\r\n  getById,\r\n  getByCategory,\r\n  getBySubcategory,\r\n  getByUser,\r\n  addProduct,\r\n  deleteOne,\r\n  editOne,\r\n};\r\n\r\nexport default productService;\r\n","import productService from '../services/productService';\r\nimport { storageRef } from '../firebase/storage';\r\n// actions\r\nexport const getAll = () => {\r\n  return async (dispatch) => {\r\n    const prods = await productService.getAll().then((res) => res);\r\n    dispatch({\r\n      type: 'GET_PRODUCTS',\r\n      prods,\r\n    });\r\n    dispatch({ type: 'STOP_LOADING' });\r\n  };\r\n};\r\nexport const getByQuery = (query) => {\r\n  return async (dispatch) => {\r\n    const prods = await productService.getByQuery(query);\r\n    dispatch({\r\n      type: 'GET_PRODUCTS',\r\n      prods,\r\n    });\r\n    dispatch({ type: 'STOP_LOADING' });\r\n  };\r\n};\r\nexport const getByCategory = (cat) => {\r\n  return async (dispatch) => {\r\n    const prods = await productService.getByCategory(cat);\r\n    dispatch({\r\n      type: 'GET_PRODUCTS',\r\n      prods,\r\n    });\r\n    dispatch({ type: 'STOP_LOADING' });\r\n  };\r\n};\r\nexport const getBySubcategory = (cat, subcat) => {\r\n  return async (dispatch) => {\r\n    const prods = await productService.getBySubcategory(cat, subcat);\r\n    dispatch({ type: 'GET_PRODUCTS', prods });\r\n    dispatch({ type: 'STOP_LOADING' });\r\n  };\r\n};\r\nexport const getByUser = (creator) => {\r\n  return async (dispatch) => {\r\n    const prods = await productService.getByUser(creator);\r\n    dispatch({ type: 'GET_PRODUCTS', prods });\r\n    dispatch({ type: 'STOP_LOADING' });\r\n  };\r\n};\r\nexport const addProduct = (product) => {\r\n  return async (dispatch) => {\r\n    const prods = await productService.addProduct(product);\r\n\r\n    // adding new product to users products in localstorage\r\n    const localUser = JSON.parse(localStorage.getItem('user'));\r\n    if ('products' in localUser) {\r\n      const prods = localUser.products;\r\n      prods.push(prods.id);\r\n      localStorage.setItem(\r\n        'user',\r\n        JSON.stringify({ ...localUser, products: prods })\r\n      );\r\n    }\r\n    dispatch({ type: 'ADD_PRODUCT', prods });\r\n  };\r\n};\r\nexport const deleteOne = (product) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (userJson) {\r\n      const token = JSON.parse(userJson).token;\r\n      try {\r\n        await productService.deleteOne(product.id, token);\r\n        product.images.forEach(([url, path]) => {\r\n          const imgRef = storageRef.child(path);\r\n          imgRef\r\n            .delete()\r\n            .then((res) => {\r\n              console.log('RES: ', res);\r\n            })\r\n            .catch((error) => {\r\n              return console.log(error);\r\n            });\r\n        });\r\n        dispatch({ type: 'DELETE' });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n};\r\nexport const editOne = (id, newProduct) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (userJson) {\r\n      const token = JSON.parse(userJson).token;\r\n      const product = await productService.editOne(id, newProduct, token);\r\n      dispatch({ type: 'EDIT_PRODUCT', product });\r\n    }\r\n  };\r\n};\r\n\r\n// reducer\r\nconst reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_PRODUCTS':\r\n      return action.prods;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import S from './Loader.module.scss';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={S.container}>\r\n      <div className={S.spinner}></div>\r\n    </div>\r\n  );\r\n}\r\n","import ProductCard from './ProductCard/ProductCard';\r\nimport './ProductGrid.scss';\r\nimport { useEffect } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  getAll,\r\n  getByCategory,\r\n  getByQuery,\r\n  getBySubcategory,\r\n  getByUser,\r\n} from '../../reducers/productsReducer';\r\nimport Loader from '../Loader/Loader';\r\n\r\nexport default function ProductGrid() {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const { category, subcategory, id } = useParams();\r\n\r\n  const query = new URLSearchParams(location.search).get('query');\r\n  const loading = useSelector((store) => store.loading);\r\n  const products = useSelector((store) =>\r\n    store.products.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: 'START_LOADING' });\r\n    if (subcategory) {\r\n      dispatch(getBySubcategory(category, subcategory));\r\n    } else if (category) {\r\n      dispatch(getByCategory(category));\r\n    } else if (query) {\r\n      dispatch(getByQuery(query));\r\n    } else if (location.pathname.split('/')[2] === 'user') {\r\n      dispatch(getByUser(id));\r\n    } else {\r\n      dispatch(getAll());\r\n    }\r\n  }, [category, subcategory, query, dispatch, id, location.pathname]);\r\n\r\n  return (\r\n    <div className=\"productGrid\">\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        products.map((prod, i) => (\r\n          <ProductCard className=\"dog\" product={prod} key={i.toString()} />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","const categories = [\r\n  {\r\n    name: 'Electronics',\r\n    subcategories: [\r\n      'Accesories',\r\n      'Phones',\r\n      'Tablets',\r\n      'Computers',\r\n      'Data Storage',\r\n    ],\r\n  },\r\n  {\r\n    name: 'Fashion',\r\n    subcategories: [\r\n      'Male',\r\n      'Female',\r\n      'Childrens',\r\n      'Accesories',\r\n      'Shoes',\r\n      'Hats',\r\n    ],\r\n  },\r\n  {\r\n    name: 'Sports and Outdoors',\r\n    subcategories: ['Fitness', 'Biking', 'Camping', 'Fishing'],\r\n  },\r\n  {\r\n    name: 'Arts and Crafts',\r\n    subcategories: [\r\n      'Painting and Drawing',\r\n      'Jewelry Making',\r\n      'Crafting',\r\n      'Fabric',\r\n      'Sewing',\r\n      'Kneeding',\r\n    ],\r\n  },\r\n];\r\nexport default categories;\r\n","const cleanForUrl = (c) => c.toLowerCase().replaceAll(/ +/g, '-');\r\nexport default cleanForUrl;\r\n","import { Link, useParams } from 'react-router-dom';\r\nimport S from './SubMenu.module.scss';\r\nimport categories from '../categories';\r\nimport cleanForUrl from '../cleanForUrl';\r\n\r\nexport default function SubMenu() {\r\n  const urlCategory = useParams().category;\r\n\r\n  const subcategories = categories.find(\r\n    (cat) => cleanForUrl(cat.name) === urlCategory\r\n  )?.subcategories;\r\n\r\n  return (\r\n    <div className={S.submenu}>\r\n      {urlCategory\r\n        ? subcategories.map((subcat, i) => (\r\n            <Link\r\n              key={i}\r\n              to={`/products/${urlCategory}/${cleanForUrl(subcat)}`}\r\n            >\r\n              {subcat}\r\n            </Link>\r\n          ))\r\n        : categories.map((cat, i) => (\r\n            <Link key={i} to={`/products/${cleanForUrl(cat.name)}`}>\r\n              {cat.name}\r\n            </Link>\r\n          ))}\r\n      {}\r\n    </div>\r\n  );\r\n}\r\n","import ProductGrid from '../ProductGrid/ProductGrid';\r\nimport SubMenu from '../Header/SubMenu';\r\n\r\nexport default function CategoryPage() {\r\n  return (\r\n    <div>\r\n      <SubMenu />\r\n      <ProductGrid />\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport S from './Logo.module.scss';\r\n\r\nexport default function Logo() {\r\n  return (\r\n    <h1 className={S.mainLogo}>\r\n      <Link to=\"/\">WADAP!</Link>\r\n    </h1>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bars-solid.5442d8f0.svg\";","import { useState } from 'react';\r\nimport S from './Menu.module.scss';\r\nimport hamburger from '../../../svg/bars-solid.svg';\r\nimport { useHistory } from 'react-router-dom';\r\nimport categories from '../../categories';\r\n\r\nexport default function Menu() {\r\n  const history = useHistory();\r\n  const [dropdown, setDropdown] = useState(false);\r\n  const [visibleCat, setVisibleCat] = useState('');\r\n\r\n  const cleanForUrl = (text) => {\r\n    return text.toLowerCase().replaceAll('&', '').replaceAll(/ +/g, '-');\r\n  };\r\n\r\n  const goTo = (cat, subcat) => {\r\n    const cleanCat = cleanForUrl(cat);\r\n    const cleanSubcat = subcat && cleanForUrl(subcat);\r\n    subcat\r\n      ? history.push(`/products/${cleanCat}/${cleanSubcat}`)\r\n      : history.push(`/products/${cleanCat}`);\r\n  };\r\n\r\n  return (\r\n    <div className={S.div}>\r\n      <button className={S.menu} onClick={() => setDropdown(!dropdown)}>\r\n        <img className={S.svg} src={hamburger} alt=\"\" />\r\n      </button>\r\n      {dropdown && (\r\n        <ul onMouseLeave={() => setDropdown(false)} className={S.dropdown}>\r\n          {categories.map((cat, i) => (\r\n            <li className={S.category} key={i}>\r\n              <button\r\n                onMouseEnter={() => setVisibleCat(cat.name)}\r\n                onClick={() => goTo(cat.name)}\r\n                className={S.button}\r\n              >\r\n                {cat.name}&rarr;\r\n              </button>\r\n              {visibleCat === cat.name && (\r\n                <div\r\n                  onMouseLeave={() => setVisibleCat('')}\r\n                  className={S.subcategories}\r\n                >\r\n                  {cat.subcategories.map((subcat, j) => (\r\n                    <button\r\n                      key={j}\r\n                      onClick={() => goTo(cat.name, subcat)}\r\n                      className={S.button}\r\n                    >\r\n                      {subcat}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/search-solid.e3fe7eac.svg\";","import S from './SearchBar.module.scss';\r\nimport searchsvg from '../../../svg/search-solid.svg';\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function SearchBar() {\r\n  const history = useHistory();\r\n  const [query, setQuery] = useState('');\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.value) {\r\n      history.push(`/search?query=${query}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className={S.form} onSubmit={handleSubmit}>\r\n      <input\r\n        className={S.input}\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        placeholder=\"Search a product\"\r\n      />\r\n      <button className={S.button} type=\"submit\">\r\n        <img src={searchsvg} alt=\"\" />\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/shopping-cart-solid.1311f16d.svg\";","// actions\r\nexport const addToCart = (product) => {\r\n  return {\r\n    type: 'ADD',\r\n    product,\r\n  };\r\n};\r\n\r\nexport const removeFromCart = (id) => {\r\n  return {\r\n    type: 'REMOVE',\r\n    id,\r\n  };\r\n};\r\n\r\nexport const setAmount = (id, amount) => {\r\n  return {\r\n    type: 'SET_AMOUNT',\r\n    id,\r\n    amount,\r\n  };\r\n};\r\n\r\nexport const clearCart = () => {\r\n  localStorage.removeItem('cart');\r\n  return {\r\n    type: 'CLEAR',\r\n  };\r\n};\r\n\r\n// reducer, [[product, amount], ...]\r\nconst initialState = localStorage.getItem('cart')\r\n  ? JSON.parse(localStorage.getItem('cart'))\r\n  : [];\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD':\r\n      // if item already in cart, +1 it's amount\r\n      const newCartAdd = state.some((prod) => prod[0].id === action.product.id)\r\n        ? state.map((prod) =>\r\n            prod[0].id === action.product.id\r\n              ? [prod[0], [Number(prod[1]) + 1]]\r\n              : prod\r\n          )\r\n        : [...state, [action.product, 1]];\r\n      localStorage.setItem('cart', JSON.stringify(newCartAdd));\r\n      return newCartAdd;\r\n\r\n    case 'REMOVE':\r\n      const newCartRem = state.filter((prod) => prod[0].id !== action.id);\r\n      localStorage.setItem('cart', JSON.stringify(newCartRem));\r\n      return newCartRem;\r\n\r\n    case 'SET_AMOUNT':\r\n      const newCartSet = state.map((prod) =>\r\n        prod[0].id === action.id ? [prod[0], action.amount] : prod\r\n      );\r\n      localStorage.setItem('cart', newCartSet);\r\n      return newCartSet;\r\n\r\n    case 'CLEAR':\r\n      localStorage.removeItem('cart');\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n","import S from './Cart.module.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setAmount } from '../../../reducers/cartReducer';\r\n\r\nexport default function Cart({ setCartVisible }) {\r\n  const dispatch = useDispatch();\r\n  const productsInCart = useSelector((store) => store.cart);\r\n\r\n  return (\r\n    <div className={S.cart}>\r\n      <div className={S.top}>\r\n        <h2>My Cart</h2>\r\n        <Link to=\"/checkout\">Checkout</Link>\r\n        <h2>\r\n          {productsInCart.reduce(\r\n            (acc, [prod, amount]) => acc + Number(prod.price) * amount,\r\n            0\r\n          )}\r\n          $\r\n        </h2>\r\n      </div>\r\n\r\n      {productsInCart.map(([prod, amount]) => (\r\n        <div className={S.cartItem} key={prod.id}>\r\n          <img className={S.prodImg} src={prod.images[0][0]} alt=\"\" />\r\n          <div className={S.prodInfo}>\r\n            <Link to={`/product/${prod.id}`}>\r\n              <h3 className={S.name}>{prod.name}</h3>\r\n            </Link>\r\n            <input\r\n              onChange={(e) => dispatch(setAmount(prod.id, e.target.value))}\r\n              className={S.amount}\r\n              value={amount}\r\n              type=\"text\"\r\n              placeholder=\"Amount\"\r\n            />\r\n            <p className={S.price}>{prod.price * amount}$</p>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      <button className={S.hideBtn} onClick={() => setCartVisible(false)}>\r\n        Hide cart\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\nexport default function useComponentVisible(initial) {\r\n  const [isComponentsVisible, setIsComponentVisible] = useState(\r\n    initial || false\r\n  );\r\n  const ref = useRef();\r\n\r\n  const handleClickOutside = (e) => {\r\n    if (ref.current && !ref.current.contains(e.target)) {\r\n      setIsComponentVisible(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClickOutside, true);\r\n    return () =>\r\n      document.removeEventListener('click', handleClickOutside, true);\r\n  });\r\n\r\n  return [ref, isComponentsVisible, setIsComponentVisible];\r\n}\r\n","import cartsvg from '../../../svg/shopping-cart-solid.svg';\r\nimport S from './NavCart.module.scss';\r\nimport Cart from './Cart';\r\nimport useComponentVisible from '../../../hooks/useComponentVisible';\r\nexport default function NavCart() {\r\n  const [cartRef, cartVisible, setCartVisible] = useComponentVisible();\r\n\r\n  return (\r\n    <>\r\n      <div className={S.cart}>\r\n        <button onClick={() => setCartVisible(true)} className={S.button}>\r\n          <img src={cartsvg} alt=\"Cart button\" />\r\n        </button>\r\n      </div>\r\n      {cartVisible && (\r\n        <div ref={cartRef}>\r\n          <Cart setCartVisible={setCartVisible} />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ellipsis-h-solid.c836b54d.svg\";","import useComponentVisible from '../../hooks/useComponentVisible';\r\nimport ellipsisSvg from '../../svg/ellipsis-h-solid.svg';\r\nimport S from './DotMenu.module.scss';\r\n\r\nexport default function DotMenu({ size, choices, funcs, linked }) {\r\n  const [menuRef, open, setOpen] = useComponentVisible();\r\n  return (\r\n    <div className={S.container}>\r\n      <button className={S.btn} onClick={() => setOpen(!open)}>\r\n        <img\r\n          src={ellipsisSvg}\r\n          alt=\"\"\r\n          className={\r\n            size === 'small' ? S.svgSmall : size === 'big' ? S.svgBig : S.svgMed\r\n          }\r\n        />\r\n      </button>\r\n      {open && (\r\n        <ul ref={menuRef} className={S.menu}>\r\n          {choices.map((choice, i) => (\r\n            <li key={i}>\r\n              <button className={S.choice} onClick={funcs[i]}>\r\n                {choice}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = (process.env.BASE_URL || 'http://localhost:3001') + '/api';\r\n\r\nconst signupUser = async (user) => {\r\n  const response = await axios.post(`${baseUrl}/sign-up`, user);\r\n  return response.data;\r\n};\r\n\r\nconst signinUser = async (user) => {\r\n  try {\r\n    const response = await axios.post(`${baseUrl}/sign-in`, user);\r\n    return response.data;\r\n  } catch (error) {\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst userService = { signupUser, signinUser };\r\nexport default userService;\r\n","import userService from '../services/userService';\r\n\r\n// actions\r\nexport const initUser = () => {\r\n  const userJson = localStorage.getItem('user');\r\n  if (userJson) {\r\n    return {\r\n      type: 'INIT',\r\n      user: JSON.parse(userJson),\r\n    };\r\n  }\r\n};\r\n\r\nexport const signupUser = (user) => {\r\n  return async (dispatch) => {\r\n    const signedUser = await userService.signupUser(user);\r\n    localStorage.setItem('user', JSON.stringify(signedUser));\r\n    dispatch({\r\n      type: 'SIGNUP',\r\n      user: signedUser,\r\n    });\r\n  };\r\n};\r\n\r\nexport const signinUser = (user) => {\r\n  return async (dispatch) => {\r\n    const signedUser = await userService.signinUser(user);\r\n    if ('error' in signedUser) {\r\n      return dispatch({\r\n        type: 'ERROR',\r\n        error: signedUser.error,\r\n      });\r\n    }\r\n    localStorage.setItem('user', JSON.stringify(signedUser));\r\n    dispatch({\r\n      type: 'SIGNIN',\r\n      user: signedUser,\r\n    });\r\n  };\r\n};\r\n\r\nexport const signoutUser = () => {\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('cart');\r\n  return {\r\n    type: 'SIGNOUT',\r\n  };\r\n};\r\n\r\n// reducer\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'INIT':\r\n      return action.user;\r\n    case 'SIGNIN':\r\n      return action.user;\r\n    case 'SIGNUP':\r\n      return action.user;\r\n    case 'SIGNOUT':\r\n      return null;\r\n    case 'ERROR':\r\n      return { error: action.error };\r\n    case 'CLEAR':\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import S from './Navbar.module.scss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Logo from './Logo';\r\nimport Menu from './Menu';\r\nimport SearchBar from './SearchBar';\r\nimport NavCart from './NavCart';\r\nimport DotMenu from '../../DotMenu/DotMenu';\r\nimport { signoutUser } from '../../../reducers/userReducer';\r\n\r\nexport default function Navbar() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const signout = () => {\r\n    dispatch(signoutUser());\r\n    history.push('/');\r\n  };\r\n\r\n  return (\r\n    <nav className={S.navbar}>\r\n      <Logo />\r\n      <Menu />\r\n      <SearchBar />\r\n      <div className={S.menuBox}>\r\n        <DotMenu\r\n          linked={true}\r\n          size=\"big\"\r\n          choices={\r\n            user?.username\r\n              ? ['Add product', 'My products', 'Sign out']\r\n              : ['Sign in']\r\n          }\r\n          funcs={\r\n            user?.username\r\n              ? [\r\n                  () => history.push('/add-product'),\r\n                  () => history.push(`/products/user/${user.id}`),\r\n                  signout,\r\n                ]\r\n              : [() => history.push('/sign-in')]\r\n          }\r\n        />\r\n      </div>\r\n      <NavCart />\r\n    </nav>\r\n  );\r\n}\r\n","import Navbar from './Navbar/Navbar';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <Navbar />\r\n    </header>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport S from './SigninForm.module.scss';\r\n\r\nexport default function SigninForm({ handleFormSubmit, setSignin }) {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((store) => store.user);\r\n  useEffect(() => {\r\n    const id = setTimeout(() => {\r\n      dispatch({ type: 'CLEAR' });\r\n    }, 5000);\r\n    return () => clearTimeout(id);\r\n  }, [user, dispatch]);\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className={S.form}>\r\n      <h2>Sign in</h2>\r\n      {user?.error && <h3>Invalid credentials</h3>}\r\n      <label onSubmit={handleFormSubmit}>\r\n        <p>Username</p>\r\n        <input type=\"text\" name=\"username\" required />\r\n      </label>\r\n      <label>\r\n        <p>Password</p>\r\n        <input type=\"password\" name=\"password\" required />\r\n      </label>\r\n      <button type=\"submit\">Sign in</button>\r\n      <div className={S.signupLink}>\r\n        <button type=\"button\" onClick={() => setSignin(false)}>\r\n          Don't have an account? Sign up\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport S from './SigninForm.module.scss';\r\n\r\nexport default function SignupForm({ setSignin, handleFormSubmit }) {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [passwordRepeat, setPasswordRepeat] = useState('');\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className={S.form}>\r\n      <h2>Sign up</h2>\r\n      <label>\r\n        <p>Username</p>\r\n        <input\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          type=\"text\"\r\n          name=\"username\"\r\n          minLength=\"3\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <p>Email</p>\r\n        <input\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          type=\"email\"\r\n          name=\"email\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <p>Password</p>\r\n        <input\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          minLength=\"8\"\r\n          maxLength=\"50\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <p>Password repeat</p>\r\n        <input\r\n          value={passwordRepeat}\r\n          onChange={(e) => setPasswordRepeat(e.target.value)}\r\n          type=\"password\"\r\n          name=\"passwordRepeat\"\r\n          minLength=\"8\"\r\n          maxLength=\"50\"\r\n          required\r\n        />\r\n      </label>\r\n      <button type=\"submit\">Sign in</button>\r\n      <div className={S.signupLink}>\r\n        <button type=\"button\" onClick={() => setSignin(true)}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport S from './SigninPage.module.scss';\r\nimport SigninForm from './SigninForm';\r\nimport SignupForm from './SignupForm';\r\nimport { signinUser, signupUser } from '../../reducers/userReducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport default function SigninPage() {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((store) => store.user);\r\n  const [signin, setSignin] = useState(true);\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (signin) {\r\n      const userToSend = {\r\n        username: e.target.username.value,\r\n        password: e.target.password.value,\r\n      };\r\n      dispatch(signinUser(userToSend));\r\n    } else {\r\n      const userToSend = {\r\n        username: e.target.username.value,\r\n        email: e.target.email.value,\r\n        password: e.target.password.value,\r\n        passwordRepeat: e.target.passwordRepeat.value,\r\n      };\r\n      if (userToSend.password !== userToSend.passwordRepeat) return;\r\n      dispatch(signupUser(userToSend));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={S.signinPage}>\r\n      {user?.username ? (\r\n        <Redirect to=\"/\" />\r\n      ) : (\r\n        <div className={S.formBox}>\r\n          {signin ? (\r\n            <SigninForm\r\n              setSignin={setSignin}\r\n              handleFormSubmit={handleFormSubmit}\r\n            />\r\n          ) : (\r\n            <SignupForm\r\n              setSignin={setSignin}\r\n              handleFormSubmit={handleFormSubmit}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { createPortal } from 'react-dom';\r\nimport S from './Modal.module.scss';\r\n\r\nexport default function Modal({ modalRef, message, setClose, onClick }) {\r\n  return createPortal(\r\n    <div className={S.modalContainer}>\r\n      <div ref={modalRef} className={S.modal}>\r\n        <p>{message}</p>\r\n\r\n        <button className={S.acceptBtn} onClick={onClick || setClose}>\r\n          Accept\r\n        </button>\r\n        <button className={S.closeBtn} onClick={setClose}>\r\n          X\r\n        </button>\r\n      </div>\r\n    </div>,\r\n    document.getElementById('modal')\r\n  );\r\n}\r\n","import S from './Rating.module.scss';\r\nimport starsToDisplay from '../../stars/starsToDisplay';\r\nimport DotMenu from '../../DotMenu/DotMenu';\r\nimport Modal from '../../Modal/Modal';\r\nimport useComponentVisible from '../../../hooks/useComponentVisible';\r\n\r\nexport default function Rating({ rating, user, handleDelete, toggleEdit }) {\r\n  const cleanDate = (date) => `${date.slice(0, 10)} / ${date.slice(11, -4)}`;\r\n  const isMyRating = rating.creator === user?.id;\r\n  const [modalRef, modalOpen, setModalOpen] = useComponentVisible();\r\n\r\n  return (\r\n    <div className={S.rating}>\r\n      {modalOpen && (\r\n        <Modal\r\n          modalRef={modalRef}\r\n          setClose={() => setModalOpen(false)}\r\n          onClick={handleDelete}\r\n          message=\"Are you sure you want to delete this review?\"\r\n        />\r\n      )}\r\n      <div className={S.creator}>\r\n        <div className={S.stars}>{starsToDisplay(rating.rating)}</div>\r\n        <p>{rating.username}</p>\r\n      </div>\r\n      <p className={S.date}>{cleanDate(rating.createdAt)}</p>\r\n      <p>{rating.comment}</p>\r\n      {isMyRating && (\r\n        <DotMenu\r\n          choices={['edit', 'delete']}\r\n          funcs={[toggleEdit, () => setModalOpen(true)]}\r\n          size=\"small\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = (process.env.BASE_URL || 'http://localhost:3001') + '/api';\r\n\r\nconst rateProduct = async (id, rating) => {\r\n  // \"rating\" should have rating, comment and user\r\n  const response = await axios.post(`${baseUrl}/products/${id}`, rating);\r\n  return response.data;\r\n};\r\n\r\nconst deleteRating = async (id, token) => {\r\n  const response = await axios.delete(`${baseUrl}/products/ratings/${id}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst editRating = async (id, rating, token) => {\r\n  const response = await axios.put(\r\n    `${baseUrl}/products/ratings/${id}`,\r\n    rating,\r\n    {\r\n      headers: { Authorization: token },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst ratingsService = {\r\n  rateProduct,\r\n  deleteRating,\r\n  editRating,\r\n};\r\n\r\nexport default ratingsService;\r\n","import ratingsService from '../services/ratingsService';\r\n\r\n// actions\r\nexport const setRatings = (ratings) => {\r\n  // ratings get fetched with the product\r\n  return { type: 'SET_RATINGS', ratings };\r\n};\r\n\r\nexport const rateProduct = (id, rating) => {\r\n  return async (dispatch) => {\r\n    const res = await ratingsService.rateProduct(id, rating);\r\n    dispatch({\r\n      type: 'RATE_PRODUCT',\r\n      rating: res,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteRating = (id) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (userJson) {\r\n      const token = JSON.parse(userJson).token;\r\n      await ratingsService.deleteRating(id, token);\r\n      dispatch({ type: 'DELETE_RATING', id });\r\n    }\r\n  };\r\n};\r\n\r\nexport const editRating = (id, rating) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (userJson) {\r\n      const token = JSON.parse(userJson).token;\r\n      const newRating = await ratingsService.editRating(id, rating, token);\r\n      dispatch({\r\n        type: 'EDIT_RATING',\r\n        rating: newRating,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\n// reducer\r\nconst reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SET_RATINGS':\r\n      return action.ratings;\r\n    case 'RATE_PRODUCT':\r\n      return [...state, action.rating];\r\n    case 'DELETE_RATING':\r\n      return state.filter((r) => r.id !== action.id);\r\n    case 'EDIT_RATING':\r\n      const newRating = action.rating;\r\n      return state.map((r) => (r.id === newRating.id ? newRating : r));\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport S from './RatingInput.module.scss';\r\nimport starsToDisplay from '../../stars/starsToDisplay';\r\nimport { editRating, rateProduct } from '../../../reducers/ratingsReducer';\r\n\r\nexport default function RatingInput({ isEditing, setCanSeeInput }) {\r\n  const dispatch = useDispatch();\r\n  const [rating, setRating] = useState(5);\r\n  const [comment, setComment] = useState('');\r\n\r\n  const id = useParams().id;\r\n  const user = useSelector((store) => store.user);\r\n\r\n  const handleSubmitRating = (e) => {\r\n    e.preventDefault();\r\n    const fullRating = { rating, comment, user: user.id };\r\n    isEditing\r\n      ? dispatch(editRating(id, fullRating))\r\n      : dispatch(rateProduct(id, fullRating));\r\n    setCanSeeInput(false);\r\n    setRating(5);\r\n    setComment('');\r\n  };\r\n\r\n  return (\r\n    <form className={S.form} onSubmit={handleSubmitRating}>\r\n      <label>\r\n        <div className={S.stars}>{starsToDisplay(rating)}</div>\r\n        <input\r\n          type=\"number\"\r\n          min=\"1\"\r\n          max=\"5\"\r\n          value={rating}\r\n          onChange={(e) => setRating(e.target.value)}\r\n        />\r\n      </label>\r\n      <label>\r\n        <textarea\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n          placeholder={isEditing ? 'Edit review' : 'Add a review'}\r\n          className={S.textarea}\r\n        ></textarea>\r\n      </label>\r\n      <button className={S.button} type=\"submit\">\r\n        Submit\r\n      </button>\r\n      {isEditing && (\r\n        <button\r\n          className={S.button}\r\n          type=\"button\"\r\n          onClick={() => setCanSeeInput(false)}\r\n        >\r\n          Cancel\r\n        </button>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n","import S from './RatingsSum.module.scss';\r\nimport starsToDisplay from '../../stars/starsToDisplay';\r\n\r\nexport default function RatingsSum({ ratings }) {\r\n  const ratio =\r\n    Math.round(\r\n      (ratings.reduce((acc, { rating }) => acc + rating, 0) / ratings.length) *\r\n        10\r\n    ) / 10;\r\n\r\n  return (\r\n    <div className={S.ratingsSum}>\r\n      <h2>Ratings Summary</h2>\r\n      <div className={S.stars}>\r\n        {ratio ? starsToDisplay(ratio) : starsToDisplay(0)}\r\n      </div>\r\n      <h3 className={S.ratio}>\r\n        {ratio || 0}/5, {ratings.length} votes\r\n      </h3>\r\n    </div>\r\n  );\r\n}\r\n","import S from './Ratings.module.scss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Rating from './Rating';\r\nimport RatingInput from './RatingInput';\r\nimport RatingsSum from './RatingsSum';\r\nimport { deleteRating } from '../../../reducers/ratingsReducer';\r\nimport { useState } from 'react';\r\n\r\nexport default function Ratings({ ratings, productCreator }) {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((store) => store.user);\r\n  const sorted = ratings.sort(\r\n    (a, b) => new Date(b.createdAt) - new Date(a.createdAt)\r\n  );\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  // don't show input if it's users product or if user rated before\r\n  const [canSeeInput, setCanSeeInput] = useState(\r\n    productCreator !== user.id &&\r\n      user &&\r\n      !ratings.find((rating) => rating.creator === user.id)\r\n  );\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteRating(id));\r\n  };\r\n  const toggleEdit = () => {\r\n    setCanSeeInput(!canSeeInput);\r\n    setIsEditing(!isEditing);\r\n  };\r\n\r\n  return (\r\n    <div className={S.ratingsBox}>\r\n      <RatingsSum ratings={ratings} />\r\n      <div className={S.ratingsList}>\r\n        {canSeeInput && (\r\n          <RatingInput\r\n            ratings={ratings}\r\n            isEditing={isEditing}\r\n            setCanSeeInput={setCanSeeInput}\r\n          />\r\n        )}\r\n        {sorted.map((rating) => (\r\n          <Rating\r\n            key={rating.id}\r\n            rating={rating}\r\n            user={user}\r\n            handleDelete={() => handleDelete(rating.id)}\r\n            toggleEdit={toggleEdit}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import S from './ProductEditForm.module.scss';\r\n\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { editOne } from '../../reducers/productsReducer';\r\n\r\nexport default function ProductEditForm({ product, cancelEditing }) {\r\n  const dispatch = useDispatch();\r\n  const [editedProduct, setEditedProduct] = useState(product);\r\n\r\n  const handleEditSubmit = (e) => {\r\n    // no preventDefault here\r\n    // refreshing will get the new product nicely\r\n    dispatch(editOne(product.id, editedProduct));\r\n  };\r\n\r\n  return (\r\n    <form className={S.editForm} onSubmit={handleEditSubmit}>\r\n      <h2>Edit product</h2>\r\n      <label>\r\n        Name\r\n        <input\r\n          value={editedProduct.name}\r\n          name=\"name\"\r\n          type=\"text\"\r\n          onChange={(e) =>\r\n            setEditedProduct({\r\n              ...editedProduct,\r\n              name: e.target.value,\r\n            })\r\n          }\r\n        />\r\n      </label>\r\n      <label>\r\n        Description\r\n        <textarea\r\n          name=\"description\"\r\n          value={editedProduct.description}\r\n          onChange={(e) =>\r\n            setEditedProduct({\r\n              ...editedProduct,\r\n              description: e.target.value,\r\n            })\r\n          }\r\n        ></textarea>\r\n      </label>\r\n      <div className={S.flex}>\r\n        <label>\r\n          Price\r\n          <input\r\n            value={editedProduct.price}\r\n            type=\"number\"\r\n            min=\"0\"\r\n            onChange={(e) =>\r\n              setEditedProduct({\r\n                ...editedProduct,\r\n                price: e.target.value,\r\n              })\r\n            }\r\n          />\r\n        </label>\r\n        <label>\r\n          Stock\r\n          <input\r\n            value={editedProduct.stock}\r\n            type=\"number\"\r\n            min=\"0\"\r\n            onChange={(e) =>\r\n              setEditedProduct({\r\n                ...editedProduct,\r\n                stock: e.target.value,\r\n              })\r\n            }\r\n          />\r\n        </label>\r\n      </div>\r\n      <button type=\"submit\">Submit</button>\r\n      <button type=\"button\" onClick={cancelEditing}>\r\n        Cancel\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/chevron-right-solid.009b9899.svg\";","export default __webpack_public_path__ + \"static/media/chevron-left-solid.16ba89a9.svg\";","import { useState } from 'react';\r\nimport S from './Carousel.module.scss';\r\nimport rightSvg from '../../svg/chevron-right-solid.svg';\r\nimport leftSvg from '../../svg/chevron-left-solid.svg';\r\n\r\nexport default function Carousel({ images }) {\r\n  const [index, setIndex] = useState(0);\r\n  const imagesArr = images.map((image) => image[0]);\r\n  return (\r\n    <div className={S.carousel}>\r\n      <button\r\n        className={S.leftBtn}\r\n        onClick={() => setIndex(index === 0 ? images.length - 1 : index - 1)}\r\n      >\r\n        <img className={S.svg} src={leftSvg} alt=\"\" />\r\n      </button>\r\n      <img className={S.img} src={imagesArr[index]} alt=\"\" />\r\n      <button\r\n        className={S.rightBtn}\r\n        onClick={() => setIndex(index + 1 === images.length ? 0 : index + 1)}\r\n      >\r\n        <img className={S.svg} src={rightSvg} alt=\"\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import S from './ProductPage.module.scss';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\n\r\nimport Ratings from './Ratings/Ratings';\r\nimport Modal from '../Modal/Modal';\r\nimport productService from '../../services/productService';\r\nimport useComponentVisible from '../../hooks/useComponentVisible';\r\nimport { addToCart } from '../../reducers/cartReducer';\r\nimport { setRatings } from '../../reducers/ratingsReducer';\r\nimport ProductEditForm from './ProductEditForm';\r\nimport Loader from '../Loader/Loader';\r\n\r\nimport Carousel from '../Carousel/Carousel';\r\nimport DotMenu from '../DotMenu/DotMenu';\r\nimport { deleteOne } from '../../reducers/productsReducer';\r\n\r\nexport default function ProductPage() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const id = useParams().id;\r\n\r\n  const user = useSelector((store) => store.user);\r\n  const ratings = useSelector((store) => store.ratings);\r\n  const loading = useSelector((store) => store.loading);\r\n  const myProduct = user?.products.includes(id);\r\n\r\n  const [product, setProduct] = useState();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  const [modalRef, isModal, setIsModal] = useComponentVisible();\r\n\r\n  useEffect(() => {\r\n    productService\r\n      .getById(id)\r\n      .then(({ product, ratings }) => {\r\n        setProduct(product);\r\n        dispatch(setRatings(ratings));\r\n        dispatch({ type: 'STOP_LOADING' });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [id, dispatch]);\r\n\r\n  const handleDelete = () => {\r\n    history.push('/');\r\n    dispatch(deleteOne(product));\r\n  };\r\n\r\n  return (\r\n    <div className={S.productPage}>\r\n      {isModal && (\r\n        <Modal\r\n          modalRef={modalRef}\r\n          message=\"Are you sure you want to delete this product?\"\r\n          setClose={() => setIsModal(false)}\r\n          onClick={handleDelete}\r\n        />\r\n      )}\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <div className={S.productBox}>\r\n            <Carousel images={product.images} />\r\n            {isEditing ? (\r\n              <ProductEditForm\r\n                product={product}\r\n                cancelEditing={() => setIsEditing(false)}\r\n              />\r\n            ) : (\r\n              <div className={S.info}>\r\n                <h2 className={S.name}>{product.name}</h2>\r\n                <Link\r\n                  to={`/products/user/${product.creator}`}\r\n                  className={S.seller}\r\n                >\r\n                  {product.username}\r\n                </Link>\r\n                <p className={S.price}>{product.price}$</p>\r\n                <p className={S.stock}>{product.stock} in stock</p>\r\n                <p className={S.desc}>{product.description}</p>\r\n                <button\r\n                  className={S.addCart}\r\n                  onClick={() => dispatch(addToCart(product))}\r\n                >\r\n                  Add to Cart\r\n                </button>\r\n                {myProduct && (\r\n                  <DotMenu\r\n                    choices={['edit', 'delete']}\r\n                    size=\"big\"\r\n                    funcs={[() => setIsEditing(true), () => setIsModal(true)]}\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <Ratings ratings={ratings} productCreator={product.creator} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect, useHistory } from 'react-router-dom';\r\nimport S from './AddProduct.module.scss';\r\nimport categories from '../categories';\r\nimport cleanForUrl from '../cleanForUrl';\r\nimport productService from '../../services/productService';\r\n\r\nexport default function AddProduct() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [stock, setStock] = useState('');\r\n  const [images, setImages] = useState();\r\n  const [category, setCategory] = useState();\r\n  const [subcategory, setSubcategory] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const signedUser = useSelector((state) => state.user);\r\n  const subcategories = categories.find((cat) => cat.name === category);\r\n\r\n  const handleSubmitProduct = (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: 'START_LOADING' });\r\n    const productToSubmit = {\r\n      name,\r\n      description,\r\n      price,\r\n      images,\r\n      stock,\r\n      creator: signedUser.id,\r\n      category: cleanForUrl(category),\r\n      subcategory: cleanForUrl(subcategory),\r\n    };\r\n    setIsLoading(true);\r\n    productService\r\n      .addProduct(productToSubmit)\r\n      .then((res) => {\r\n        history.push(`/product/${res.id}`);\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={S.formBox}>\r\n      {signedUser ? (\r\n        <form onSubmit={handleSubmitProduct} className={S.form}>\r\n          <label>\r\n            <p>Product images</p>\r\n            <input\r\n              onChange={(e) => setImages(e.target.files)}\r\n              type=\"file\"\r\n              name=\"images\"\r\n              multiple\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            <p>Product name</p>\r\n            <input\r\n              onChange={(e) => setName(e.target.value)}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            <p>Product description</p>\r\n            <textarea\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              name=\"description\"\r\n              required\r\n            ></textarea>\r\n          </label>\r\n          <label>\r\n            <p>Product price $</p>\r\n            <input\r\n              value={price}\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              type=\"number\"\r\n              name=\"price\"\r\n              min=\"0\"\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            <p>Stock</p>\r\n            <input\r\n              value={stock}\r\n              onChange={(e) => setStock(e.target.value)}\r\n              type=\"number\"\r\n              name=\"stock\"\r\n              min=\"0\"\r\n              required\r\n            />\r\n          </label>\r\n          <div className={S.radioGroups}>\r\n            <div className={S.radioGroup}>\r\n              <p>Category</p>\r\n              {categories.map((cat) => (\r\n                <label key={cat.name}>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"category\"\r\n                    value={cat.name}\r\n                    onChange={(e) => setCategory(e.target.value)}\r\n                    required\r\n                  />\r\n                  {cat.name}\r\n                </label>\r\n              ))}\r\n            </div>\r\n            {category && (\r\n              <div className={S.radioGroup}>\r\n                <p>Subcategory</p>\r\n                {subcategories.subcategories.map((subcat) => (\r\n                  <label key={subcat}>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"subcategory\"\r\n                      value={subcat}\r\n                      onChange={(e) => setSubcategory(e.target.value)}\r\n                      required\r\n                    />\r\n                    {subcat}\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <p>{isLoading && 'Loading...'}</p>\r\n          <button type=\"submit\">Add product</button>\r\n        </form>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useComponentVisible from '../../hooks/useComponentVisible';\r\nimport {\r\n  clearCart,\r\n  removeFromCart,\r\n  setAmount,\r\n} from '../../reducers/cartReducer';\r\nimport Modal from '../Modal/Modal';\r\nimport S from './Checkout.module.scss';\r\n\r\nexport default function Checkout() {\r\n  const dispatch = useDispatch();\r\n  const prods = useSelector((store) => store.cart);\r\n  const [modalRef, checkedOut, setCheckedOut] = useComponentVisible(false);\r\n\r\n  const handleCheckout = () => {\r\n    setCheckedOut(true);\r\n    dispatch(clearCart());\r\n  };\r\n\r\n  const totalPrice = prods.reduce(\r\n    (acc, [{ price }, amount]) => acc + price * amount,\r\n    0\r\n  );\r\n  // need this so i dont display \"You just spent 0\" after clearing cart\r\n  const [lastPrice, setLastPrice] = useState();\r\n  useEffect(() => {\r\n    totalPrice && setLastPrice(totalPrice);\r\n  }, [totalPrice]);\r\n\r\n  return (\r\n    <div className={S.checkout}>\r\n      {checkedOut && (\r\n        <Modal\r\n          message={`You just spent ${lastPrice} imaginary dollars.`}\r\n          setClose={() => setCheckedOut(false)}\r\n          modalRef={modalRef}\r\n        />\r\n      )}\r\n      <div className={S.header}>\r\n        <h2>My Cart</h2>\r\n        <h2>{totalPrice}$</h2>\r\n      </div>\r\n      {prods[0] ? (\r\n        <>\r\n          <ul>\r\n            {prods.map(([prod, amount]) => (\r\n              <li className={S.prod} key={prod.id}>\r\n                <img\r\n                  className={S.img}\r\n                  loading=\"lazy\"\r\n                  src={prod.images[0][0]}\r\n                  alt=\"\"\r\n                />\r\n                <p className={S.name}>{prod.name}</p>\r\n                <input\r\n                  className={S.amount}\r\n                  type=\"number\"\r\n                  value={amount}\r\n                  onChange={(e) => dispatch(setAmount(prod.id, e.target.value))}\r\n                />\r\n                <p className={S.price}>{prod.price * amount}$</p>\r\n                <button\r\n                  className={S.removeBtn}\r\n                  onClick={() => dispatch(removeFromCart(prod.id))}\r\n                >\r\n                  X\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <button className={S.checkoutBtn} onClick={handleCheckout}>\r\n            Checkout\r\n          </button>\r\n        </>\r\n      ) : (\r\n        <p>Cart is empty</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\n\nimport CategoryPage from './components/CategoryPage/CategoryPage';\nimport Header from './components/Header/Header';\nimport SigninPage from './components/SigninPage/SigninPage';\nimport ProductPage from './components/ProductPage/ProductPage';\nimport AddProduct from './components/AddProduct/AddProduct';\nimport Checkout from './components/Checkout/Checkout';\nimport { initUser } from './reducers/userReducer';\nimport ProductGrid from './components/ProductGrid/ProductGrid';\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const userJson = localStorage.getItem('user');\n    if (userJson) {\n      dispatch(initUser(JSON.parse(userJson)));\n    }\n  }, [dispatch]);\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\" component={CategoryPage} />\n        <Route exact path=\"/sign-in\" component={SigninPage} />\n        <Route exact path=\"/add-product\" component={AddProduct} />\n        <Route exact path=\"/checkout\" component={Checkout} />\n        <Route exact path=\"/search\" component={CategoryPage} />\n\n        <Route exact path=\"/products/user/:id\" component={ProductGrid} />\n        <Route exact path=\"/products/:category\" component={CategoryPage} />\n        <Route\n          exact\n          path=\"/products/:category/:subcategory\"\n          component={CategoryPage}\n        />\n        <Route exact path=\"/product/:id\" component={ProductPage} />\n\n        <Route path=\"/*\">\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reducer = (state = true, action) => {\r\n  switch (action.type) {\r\n    case 'START_LOADING':\r\n      return true;\r\n    case 'STOP_LOADING':\r\n      return false;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport userReducer from './reducers/userReducer';\r\nimport cartReducer from './reducers/cartReducer';\r\nimport productsReducer from './reducers/productsReducer';\r\nimport ratingsReducer from './reducers/ratingsReducer';\r\nimport loadingReducer from './reducers/loadingReducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    user: userReducer,\r\n    cart: cartReducer,\r\n    products: productsReducer,\r\n    ratings: ratingsReducer,\r\n    loading: loadingReducer,\r\n  }),\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__262NT\",\"top\":\"Cart_top__1ZIii\",\"hideBtn\":\"Cart_hideBtn__170We\",\"cartItem\":\"Cart_cartItem__3tLaJ\",\"prodImg\":\"Cart_prodImg__pNMt5\",\"prodInfo\":\"Cart_prodInfo__2B9yE\",\"name\":\"Cart_name__2ZqQs\",\"amount\":\"Cart_amount__1eYyy\",\"price\":\"Cart_price__R_RrK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productPage\":\"ProductPage_productPage__nNsHw\",\"productBox\":\"ProductPage_productBox__2OUGb\",\"img\":\"ProductPage_img__1Nl51\",\"info\":\"ProductPage_info__2U2OM\",\"name\":\"ProductPage_name__2rBFq\",\"ownerBtn\":\"ProductPage_ownerBtn__QCiUw\",\"desc\":\"ProductPage_desc__5cX5I\",\"seller\":\"ProductPage_seller__q0y3X\",\"stock\":\"ProductPage_stock__RmE3w\",\"price\":\"ProductPage_price__3KdNB\",\"addCart\":\"ProductPage_addCart__wgotk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkout\":\"Checkout_checkout__1i0AI\",\"header\":\"Checkout_header__2Q10X\",\"prod\":\"Checkout_prod__LB8EP\",\"img\":\"Checkout_img__3I9f_\",\"name\":\"Checkout_name__3q6F2\",\"amount\":\"Checkout_amount__2lPYE\",\"price\":\"Checkout_price__2UbbI\",\"removeBtn\":\"Checkout_removeBtn__1UY73\",\"checkoutBtn\":\"Checkout_checkoutBtn__bs_W9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Menu_div__3ze7W\",\"menu\":\"Menu_menu__fbbP6\",\"dropdown\":\"Menu_dropdown__2twkO\",\"category\":\"Menu_category__1kYtT\",\"button\":\"Menu_button__czGij\",\"subcategories\":\"Menu_subcategories__2xdgN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DotMenu_container__2aMh0\",\"btn\":\"DotMenu_btn__3xrez\",\"menu\":\"DotMenu_menu__r1sLY\",\"choice\":\"DotMenu_choice__WaFEj\",\"svgSmall\":\"DotMenu_svgSmall__yu5Yx\",\"svgMed\":\"DotMenu_svgMed__3gIRm\",\"svgBig\":\"DotMenu_svgBig__vWgNG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"carousel\":\"Carousel_carousel__ueIfZ\",\"img\":\"Carousel_img__31Xkj\",\"leftBtn\":\"Carousel_leftBtn__1XhPL\",\"rightBtn\":\"Carousel_rightBtn__3nuo4\",\"svg\":\"Carousel_svg__1u0N5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SigninForm_form__1DpRG\",\"signupLink\":\"SigninForm_signupLink__3VVgu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"RatingInput_form__1eWl4\",\"textarea\":\"RatingInput_textarea__1vuLQ\",\"button\":\"RatingInput_button__H8vRW\",\"stars\":\"RatingInput_stars__1aLup\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBox\":\"AddProduct_formBox__DrTvV\",\"form\":\"AddProduct_form__IoYJx\",\"signupLink\":\"AddProduct_signupLink__3yMej\",\"radioGroups\":\"AddProduct_radioGroups__HlJU3\",\"radioGroup\":\"AddProduct_radioGroup__1i6hh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rating\":\"Rating_rating__1g7jG\",\"creator\":\"Rating_creator__lmZg1\",\"stars\":\"Rating_stars__31t3r\",\"date\":\"Rating_date__2ofXI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContainer\":\"Modal_modalContainer__2Nx8_\",\"modal\":\"Modal_modal__1om8P\",\"acceptBtn\":\"Modal_acceptBtn__1m18M\",\"closeBtn\":\"Modal_closeBtn__221mJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchBar_form__-vtur\",\"input\":\"SearchBar_input__3aGZd\",\"button\":\"SearchBar_button__2DprH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ratingsSum\":\"RatingsSum_ratingsSum__1ozVB\",\"ratio\":\"RatingsSum_ratio__2PLfA\",\"stars\":\"RatingsSum_stars__26wQC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__KSbZ3\",\"spinner\":\"Loader_spinner__-_DSq\",\"sk-rotateplane\":\"Loader_sk-rotateplane__2ZJWg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2n847\",\"menuBox\":\"Navbar_menuBox__ePCZH\",\"signIn\":\"Navbar_signIn__hXs6z\",\"signoutadd\":\"Navbar_signoutadd__Ujlj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"NavCart_cart__1evK9\",\"button\":\"NavCart_button__WMi2Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signinPage\":\"SigninPage_signinPage__32c3f\",\"formBox\":\"SigninPage_formBox__2Bqoj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ratingsBox\":\"Ratings_ratingsBox__11qzc\",\"ratingsList\":\"Ratings_ratingsList__SQgbR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editForm\":\"ProductEditForm_editForm__rngKy\",\"flex\":\"ProductEditForm_flex__30Hgc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submenu\":\"SubMenu_submenu__8RqGu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainLogo\":\"Logo_mainLogo__1eo4D\"};"],"sourceRoot":""}